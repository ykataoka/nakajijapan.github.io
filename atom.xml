<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Nakajijapan]]></title>
  <link href="http://nakajijapan.github.io/atom.xml" rel="self"/>
  <link href="http://nakajijapan.github.io/"/>
  <updated>2015-05-05T20:14:20+09:00</updated>
  <id>http://nakajijapan.github.io/</id>
  <author>
    <name><![CDATA[nakajijapan]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Apple Watch App]]></title>
    <link href="http://nakajijapan.github.io/blog/2015/05/05/apple-watch/"/>
    <updated>2015-05-05T18:21:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2015/05/05/apple-watch</id>
    <content type="html"><![CDATA[<p><img src="http://nakajijapan.github.io/images/posts/2015-05-05-01.png" alt="nakajijapan" /></p>

<p>折角Apple Watchを購入したので、何かしら作れるようになりたいので、WatchKitのことを雑に自分用にメモした。</p>

<h2>どんな機能があるのか</h2>

<h3>WatchKit App</h3>

<p><img src="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/Art/storyboard_layout_2x.png" width=150 /></p>

<ul>
<li>通常Apple Watchで利用するアプリ</li>
<li>階層型、ページ型がある</li>
</ul>


<h3>Glance</h3>

<p><img src="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/Art/glance_lister_2x.png" width=100 /></p>

<ul>
<li>意味合いの通り、「ちらっ」確認する用の画面。</li>
<li>下スワイプから出現されるもの。</li>
<li>１ページのみ。</li>
</ul>


<h3>Notification</h3>

<p><img src="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/Art/shortlook_calendar_2x.png" width="200" /></p>

<ul>
<li>iPhoneのプッシュ通知をApple Watch側から見れるようにしたもの</li>
</ul>


<h2>新しく増えたインタラクション</h2>

<ul>
<li>プレス

<ul>
<li>強く押す感じ</li>
</ul>
</li>
</ul>


<h2>構造</h2>

<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/DesigningaWatchKitApp.html#//apple_ref/doc/uid/TP40014969-CH3-SW1">WatchKit App Architecture</a></li>
</ul>


<p><img src="https://developer.apple.com/library/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/Art/app_communication_2x.png" alt="" /></p>

<ul>
<li>通信はWatchKit経由で通信を行う。</li>
</ul>


<h3>InterfaceController</h3>

<ul>
<li>画面はInterfaceControllerなるものごとに管理されている</li>
</ul>


<h3>Life Cycle</h3>

<p><img src="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/Art/watch_app_lifecycle_simple_2x.png" alt="" /></p>

<h4>init</h4>

<ul>
<li>インスタンス化時に呼び出される</li>
</ul>


<h4>awakeWithContext</h4>

<ul>
<li>UIの更新</li>
<li>ロードされたデータをView側に更新するときに呼び出される</li>
<li>コンテキストデータの更新はここで行われることが推奨されるけど、必須ではない</li>
</ul>


<h4>willActivate</h4>

<ul>
<li>表示されたときよびだされる</li>
<li>Interfaceに対する小さな変更をするときなど利用する

<ul>
<li>アニメーションの変更のときとかかな</li>
</ul>
</li>
</ul>


<h4>didDeactivate</h4>

<ul>
<li>利用されなくなった、しばらく経過すると呼び出される</li>
<li>ここではInterfaceオブジェクトの変数を変更できない、willActivateが呼び出されるまで無視される</li>
</ul>


<h2>要素</h2>

<p>クラスはこれだけ。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import WatchKit.WKDefines
</span><span class='line'>import WatchKit.WKError
</span><span class='line'>import WatchKit.WKInterfaceButton
</span><span class='line'>import WatchKit.WKInterfaceController
</span><span class='line'>import WatchKit.WKInterfaceDate
</span><span class='line'>import WatchKit.WKInterfaceDevice
</span><span class='line'>import WatchKit.WKInterfaceGroup
</span><span class='line'>import WatchKit.WKInterfaceImage
</span><span class='line'>import WatchKit.WKInterfaceLabel
</span><span class='line'>import WatchKit.WKInterfaceMap
</span><span class='line'>import WatchKit.WKInterfaceObject
</span><span class='line'>import WatchKit.WKInterfaceSeparator
</span><span class='line'>import WatchKit.WKInterfaceSlider
</span><span class='line'>import WatchKit.WKInterfaceSwitch
</span><span class='line'>import WatchKit.WKInterfaceTable
</span><span class='line'>import WatchKit.WKInterfaceTimer</span></code></pre></td></tr></table></div></figure>


<h2>Leveraging iOS Technologies</h2>

<ul>
<li>テクノロジーの制限は受け入れるべきだ！

<ul>
<li>ユーザは位置情報(例)の制限している可能性があるのでそれに準拠すべき</li>
</ul>
</li>
<li>バックグランド処理は利用しない

<ul>
<li>ユーザの操作のみで作用するべき</li>
</ul>
</li>
<li>時間のかかる処理はしない

<ul>
<li>ユーザの操作が止まるとしばらくしたら止まるので、その処理も止まってしまう。</li>
</ul>
</li>
</ul>


<h2>参照</h2>

<p>だいたいこの辺調べれば知りたいこと知れる。</p>

<p><a href="https://developer.apple.com/library/prerelease/ios/documentation/General/Conceptual/WatchKitProgrammingGuide/index.html#//apple_ref/doc/uid/TP40014969-CH8-SW1">Developing for Apple Watch</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[僕の左腕にApple Watchがキタ！]]></title>
    <link href="http://nakajijapan.github.io/blog/2015/04/24/get-apple-watch/"/>
    <updated>2015-04-24T19:49:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2015/04/24/get-apple-watch</id>
    <content type="html"><![CDATA[<blockquote class="instagram-media" data-instgrm-captioned data-instgrm-version="4" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:50% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAGFBMVEUiIiI9PT0eHh4gIB4hIBkcHBwcHBwcHBydr+JQAAAACHRSTlMABA4YHyQsM5jtaMwAAADfSURBVDjL7ZVBEgMhCAQBAf//42xcNbpAqakcM0ftUmFAAIBE81IqBJdS3lS6zs3bIpB9WED3YYXFPmHRfT8sgyrCP1x8uEUxLMzNWElFOYCV6mHWWwMzdPEKHlhLw7NWJqkHc4uIZphavDzA2JPzUDsBZziNae2S6owH8xPmX8G7zzgKEOPUoYHvGz1TBCxMkd3kwNVbU0gKHkx+iZILf77IofhrY1nYFnB/lQPb79drWOyJVa/DAvg9B/rLB4cC+Nqgdz/TvBbBnr6GBReqn/nRmDgaQEej7WhonozjF+Y2I/fZou/qAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div> <p style=" margin:8px 0 0 0; padding:0 4px;"> <a href="https://instagram.com/p/12Bm0jsR_o/" style=" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;" target="_top">未来</a></p> <p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;">daichi nakajimaさん(@nakajijapan)が投稿した写真 - <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2015-04-24T04:23:56+00:00">2015  4月 23 9:23午後 PDT</time></p></div></blockquote>


<script async defer src="http://nakajijapan.github.io//platform.instagram.com/en_US/embeds.js"></script>


<p>とりあえず、未来を感じたかったので購入しました。
６月に届くのかと思いきや4月２４日に来たのでびっくり。
まだまだ未開拓な領域であるけど何起こるかわからんから押さえられるとこ抑えとこ。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Nexus6がキタ！]]></title>
    <link href="http://nakajijapan.github.io/blog/2015/04/13/get-nexus6/"/>
    <updated>2015-04-13T19:57:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2015/04/13/get-nexus6</id>
    <content type="html"><![CDATA[<blockquote class="instagram-media" data-instgrm-captioned data-instgrm-version="4" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:50% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAAGFBMVEUiIiI9PT0eHh4gIB4hIBkcHBwcHBwcHBydr+JQAAAACHRSTlMABA4YHyQsM5jtaMwAAADfSURBVDjL7ZVBEgMhCAQBAf//42xcNbpAqakcM0ftUmFAAIBE81IqBJdS3lS6zs3bIpB9WED3YYXFPmHRfT8sgyrCP1x8uEUxLMzNWElFOYCV6mHWWwMzdPEKHlhLw7NWJqkHc4uIZphavDzA2JPzUDsBZziNae2S6owH8xPmX8G7zzgKEOPUoYHvGz1TBCxMkd3kwNVbU0gKHkx+iZILf77IofhrY1nYFnB/lQPb79drWOyJVa/DAvg9B/rLB4cC+Nqgdz/TvBbBnr6GBReqn/nRmDgaQEej7WhonozjF+Y2I/fZou/qAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div> <p style=" margin:8px 0 0 0; padding:0 4px;"> <a href="https://instagram.com/p/1Z1z5bMRwy/" style=" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;" target="_top">iPhone6Plusと二台持ちになった</a></p> <p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;">daichi nakajimaさん(@nakajijapan)が投稿した写真 - <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2015-04-13T05:42:08+00:00">2015 4月 12 10:42午後 PDT</time></p></div></blockquote>


<script async defer src="http://nakajijapan.github.io//platform.instagram.com/en_US/embeds.js"></script>


<p>普段は、バッグエンドとかiOSとかいじってるけどそろそろAndroidもいじらんとなと思うようになったので購入してみた。</p>

<h3>なぜ</h3>

<p>同僚の<a href="https://twitter.com/misyobun">@misyobun</a>がなぜ購入しないのかと言わんばかりの顔を毎日していたのも理由のうちにあるでしょう。
また、Androidの勉強でシミュレータで実行して確認してたけど、なんかぱっとしない。やっぱ実機でできた感だしたいので。
あとは、Androidの優良アプリを普段から利用することでその吸収できるところはをしておこうという魂胆です。</p>

<p>あとは、インターネットに繋がないとあまり意味ないので<a href="http://mvno.dmm.com/">DMMmobile</a>の3GBを契約しました。
月８５０円なのでかなりお得。</p>

<p>これで準備は整った！！！！！！！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[teiten をv1.1.1にした]]></title>
    <link href="http://nakajijapan.github.io/blog/2015/03/17/teiten-v1-dot-1-1/"/>
    <updated>2015-03-17T13:49:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2015/03/17/teiten-v1-dot-1-1</id>
    <content type="html"><![CDATA[<p><img src="http://teiten.nakajijapan.net/images/icon.png" width="300" /></p>

<p><a href="http://teiten.nakajijapan.net/">Teiten</a>のバージョンアップを行いました。</p>

<p>バージョンアップ内容は以下の内容です。</p>

<ul>
<li>画像を保存するときに画像の解像度を選択できるようになりました。</li>
<li><code>File</code> &ndash;> <code>Open Saved Images</code> で保存されているディレクトリをFinderで開ける用にしました。</li>
</ul>


<p>地味なバージョアンアップでした。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[NKJMovieComposerをSwiftにした]]></title>
    <link href="http://nakajijapan.github.io/blog/2015/03/17/nkjmoviecomposer-swift/"/>
    <updated>2015-03-17T13:40:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2015/03/17/nkjmoviecomposer-swift</id>
    <content type="html"><![CDATA[<p>ようやくCocoapodsがSwiftに対応した(0.36になった)ので自分のプラグインもSwfitに書き換えたものを<code>master</code>にマージしました。
Swiftは名前空間あるのでキラキラ名にするでも良かったんだけど、良い名前が思い浮かばなかったのとなんだか <em>NKJ</em> に愛着があるので
そのままにしましたｗ</p>

<p>基本自分のプラグインを書き換えるときはこの方針で行こう。
あと、わかりやすいように自分のプラグインのデモをのせてみました。</p>

<p><img src="https://github.com/nakajijapan/NKJMovieComposer/raw/master/demo.gif" alt="nakajijapan" /></p>

<ul>
<li>Swiftに書き換えた時のレポジトリ

<ul>
<li><a href="https://github.com/nakajijapan/NKJMovieComposer/pull/1">https://github.com/nakajijapan/NKJMovieComposer/pull/1</a></li>
</ul>
</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[自作のアプリから他のWindowに画像をドラッグする]]></title>
    <link href="http://nakajijapan.github.io/blog/2015/02/10/osx-dandd2/"/>
    <updated>2015-02-10T21:15:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2015/02/10/osx-dandd2</id>
    <content type="html"><![CDATA[<p>タイトルの通り。たとえば、自作アプリで生成された画像をそのままGitHubにドロップして画像を登録する。
っていうことをできるようにしたい。だけど前回の記事だとどうしてもドロップする機能が実装できなくて
困っていたのですができる方法が見つかったので記録しておく。</p>

<p>結論からいうと<code>NSTableView</code>をうまく利用することでできるようになった。</p>

<p><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSTableView_Class/index.html#//apple_ref/occ/instm/NSTableViiew">公式ドキュメント</a>
にもあるのですが、Draggingの操作があらかじめ用意されていてすくない実装で目的のことができるようになります。</p>

<h3>Setup</h3>

<p><code>NSTableView</code>は初期化されていることは前提で、それ以外で必要な設定を説明します。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let types = [NSImage.imagePasteboardTypes()]
</span><span class='line'>tableView.registerForDraggedTypes(types)</span></code></pre></td></tr></table></div></figure>


<p>これはドロップできるデータのデータのタイプを指定します。
この場合だと画像の種類を指定しています。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>tableView.setDraggingSourceOperationMask(NSDragOperation.Copy, forLocal: false)</span></code></pre></td></tr></table></div></figure>


<p>これは、ドラッグできる操作の種類、他のWindowにもドラッグできるかどうかも指定できます。
この場合だとファイルのコピーを他のWindowにドロップします。</p>

<p>ドラッグの種類は<a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSDraggingInfo_Protocol/#//apple_ref/c/tdef/NSDragOperation">ここ</a>
にすべて記述してあります。</p>

<h3>NSTableViewDataSource</h3>

<p>今回は一つだけ表示できればいいので要素を一つのみ表示する処理をします。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>// MARK: - NSTableViewDataSource
</span><span class='line'>
</span><span class='line'>func numberOfRowsInTableView(tableView: NSTableView) -&gt; Int {
</span><span class='line'>    return 1
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>func tableView(tableView: NSTableView, viewForTableColumn tableColumn: NSTableColumn?, row: Int) -&gt; NSView? {
</span><span class='line'>    var view = tableView.makeViewWithIdentifier("imageCell", owner: self) as NSView
</span><span class='line'>
</span><span class='line'>    self.entity = Entity()
</span><span class='line'>    var imageView = view.viewWithTag(1) as NSImageView
</span><span class='line'>    imageView.image = self.entity.image
</span><span class='line'>
</span><span class='line'>    return view
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>func tableView(tableView: NSTableView, pasteboardWriterForRow row: Int) -&gt; NSPasteboardWriting? {
</span><span class='line'>     return self.entity
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h3>データを管理するEntityを作成</h3>

<p>TableViewを扱うというとはCellが必要になってそこに描画するデータが必要になります。
今回はそのデータを管理するクラスを作成して、そこにドラッグするデータを保持します。
さらにそのデータをドロップしたときの処理も<code>NSPasteboardWriting</code>を宣言して実装していきます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Class Entity: NSObject, NSPasteboardWriting {
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    (..snip..)
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>    var fileURL:NSURL!
</span><span class='line'>
</span><span class='line'>    // MARK: - NSPasteboardWriting
</span><span class='line'>
</span><span class='line'>    func writableTypesForPasteboard(pasteboard: NSPasteboard!) -&gt; [AnyObject]! {
</span><span class='line'>        return self.fileURL.writableTypesForPasteboard(pasteboard)
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    func pasteboardPropertyListForType(type: String!) -&gt; AnyObject! {
</span><span class='line'>        return self.fileURL.pasteboardPropertyListForType(type)
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    func writinOptionsForType(type: String!, pasteboard: NSPasteboard!) -&gt; NSPasteboardWritingOptions {
</span><span class='line'>        return self.fileURL.writingOptionsForType(type, pasteboard: pasteboard)
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>ここではファイルのパスをPasteboardにファイルURLのデータをどの型でどのオブジェクトを返すのかを実装しています。
NSURLがNSPasteboardWritingの実装をしてくれているのでそのまま返せば問題ありません。</p>

<h2>まとめ</h2>

<p>これで画像をドラッグしてFinder等にドロップして画像を保存することが可能になりました。
今回は<code>NSTableView</code>を利用して目的を実現できましたが、まわりくどいやりかたしなくてもできそうな気はぬぐいきれないのです。
単純にNSView側にドラッグとドロップの処理実装できればシンプルになりそうな気がした今日この頃です。それができると信じて
調査したんだけどリタイヤしたのが前回の記事の話でした。</p>

<h2>参考</h2>

<ul>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSTableView_Class/index.html#//apple_ref/occ/instm/NSTableViiew">NSTableView</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSDraggingInfo_Protocol/#//apple_ref/c/tdef/NSDragOperation">NSDragOperation</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/AppKit/Reference/NSDraggingSession_Class/#//apple_ref/occ/instp/NSDraggingSession/draggingLocation">NSDraggingSession</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[最近読んだ本]]></title>
    <link href="http://nakajijapan.github.io/blog/2015/02/01/book/"/>
    <updated>2015-02-01T22:52:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2015/02/01/book</id>
    <content type="html"><![CDATA[<p>最近読んだ本</p>

<p><img src="https://imagery.pragprog.com/products/373/adios2_xlargebeta.jpg?1414692598" alt="" /></p>

<p><a href="https://pragprog.com/book/adios2/ios-8-sdk-development">iOS 8 SDK Development: Creating iPhone and iPad Apps with Swift</a></p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/%E9%9B%BB%E5%AD%90%E6%9B%B8%E7%B1%8D/dp/B00RX1951E%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00RX1951E" target="_blank" title="ジョナサン・アイブ　偉大な製品を生み出すアップルの天才デザイナー"><img src="http://ecx.images-amazon.com/images/I/51WbR9eLwOL._SL160_.jpg" width="101" height="150" alt="ジョナサン・アイブ　偉大な製品を生み出すアップルの天才デザイナー" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/%E9%9B%BB%E5%AD%90%E6%9B%B8%E7%B1%8D/dp/B00RX1951E%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00RX1951E" target="_blank">ジョナサン・アイブ　偉大な製品を生み出すアップルの天才デザイナー</a></p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/Pro-Continuous-Integration-Romain-Pouclet-ebook/dp/B00K6N4K2A%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00K6N4K2A" target="_blank" title="Pro iOS Continuous Integration"><img src="http://ecx.images-amazon.com/images/I/41bLTp-nTpL._SL160_.jpg" width="121" height="150" alt="Pro iOS Continuous Integration" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/Pro-Continuous-Integration-Romain-Pouclet-ebook/dp/B00K6N4K2A%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00K6N4K2A" target="_blank">Pro iOS Continuous Integration</a></p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%A9%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3-%E2%80%95UI-UX%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%AE%E7%A5%9E%E3%81%8C%E5%AE%BF%E3%82%8B%E7%B4%B0%E9%83%A8-Dan-Saffer/dp/4873116597%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4873116597" target="_blank" title="マイクロインタラクション ―UI/UXデザインの神が宿る細部"><img src="http://ecx.images-amazon.com/images/I/51LgvWft-IL._SL160_.jpg" width="105" height="150" alt="マイクロインタラクション ―UI/UXデザインの神が宿る細部" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/%E3%83%9E%E3%82%A4%E3%82%AF%E3%83%AD%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%A9%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3-%E2%80%95UI-UX%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3%E3%81%AE%E7%A5%9E%E3%81%8C%E5%AE%BF%E3%82%8B%E7%B4%B0%E9%83%A8-Dan-Saffer/dp/4873116597%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4873116597" target="_blank">マイクロインタラクション ―UI/UXデザインの神が宿る細部</a></p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/iOS-UICollectionView-Complete-Edition-Programming-ebook/dp/B00IHZKDCU%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00IHZKDCU" target="_blank" title="iOS UICollectionView: The Complete Guide (2nd Edition) (Mobile Programming)"><img src="http://ecx.images-amazon.com/images/I/51PLsDdMCbL._SL160_.jpg" width="115" height="150" alt="iOS UICollectionView: The Complete Guide (2nd Edition) (Mobile Programming)" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/iOS-UICollectionView-Complete-Edition-Programming-ebook/dp/B00IHZKDCU%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00IHZKDCU" target="_blank">iOS UICollectionView: The Complete Guide (2nd Edition) (Mobile Programming)</a></p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.com/Swift-Development-Cocoa-Developing-Stores/dp/1491908947%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Dbooklogjp-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1491908947" target="_blank" title="Swift Development with Cocoa: Developing for the Mac and iOS App Stores"><img src="http://ecx.images-amazon.com/images/I/51QozVPjPiL._SL160_.jpg" width="114" height="150" alt="Swift Development with Cocoa: Developing for the Mac and iOS App Stores" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.com/Swift-Development-Cocoa-Developing-Stores/dp/1491908947%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Dbooklogjp-20%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1491908947" target="_blank">Swift Development with Cocoa: Developing for the Mac and iOS App Stores</a></p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/Learning-Foundation-Hands-Mastering-Framework-ebook/dp/B00OV3DFGI%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00OV3DFGI" target="_blank" title="Learning AV Foundation: A Hands-on Guide to Mastering the AV Foundation Framework"><img src="http://ecx.images-amazon.com/images/I/51njEv08GbL._SL160_.jpg" width="116" height="150" alt="Learning AV Foundation: A Hands-on Guide to Mastering the AV Foundation Framework" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/Learning-Foundation-Hands-Mastering-Framework-ebook/dp/B00OV3DFGI%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00OV3DFGI" target="_blank">Learning AV Foundation: A Hands-on Guide to Mastering the AV Foundation Framework</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OSX ドラッグアンドドロップの調査]]></title>
    <link href="http://nakajijapan.github.io/blog/2015/01/20/osx-dandd/"/>
    <updated>2015-01-20T17:01:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2015/01/20/osx-dandd</id>
    <content type="html"><![CDATA[<p>ドラッギングアンドドロップ関連の調査</p>

<h2>NSDraggingSource</h2>

<p>プロトコルメソッドで、Dragging Session内のオブジェクトによって実装される。
ドラッグ捜査中に受け取るメッセージ</p>

<h3>draggingSession(_:sourceOperationMaskForDraggingContext:)</h3>

<p>ドラッギングしている状況を教えて、どんなドラッグのタイプを許すか設定します。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum NSDraggingContext : Int {
</span><span class='line'>
</span><span class='line'>    case OutsideApplication
</span><span class='line'>    case WithinApplication
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>ドラッグ操作のマスク。ここでどんな操作を許すのかの種類</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>struct NSDragOperation : RawOptionSetType {
</span><span class='line'>    init(_ rawValue: UInt)
</span><span class='line'>    init(rawValue: UInt)
</span><span class='line'>
</span><span class='line'>    static var None: NSDragOperation { get }
</span><span class='line'>    static var Copy: NSDragOperation { get }
</span><span class='line'>    static var Link: NSDragOperation { get }
</span><span class='line'>    static var Generic: NSDragOperation { get }
</span><span class='line'>    static var Private: NSDragOperation { get }
</span><span class='line'>    static var Move: NSDragOperation { get }
</span><span class='line'>    static var Delete: NSDragOperation { get }
</span><span class='line'>    static var Every: NSDragOperation { get }
</span><span class='line'>
</span><span class='line'>    static var All_Obsolete: NSDragOperation { get } // Use NSDragOperationEvery
</span><span class='line'>    static var All: NSDragOperation { get } // Use NSDragOperationEvery
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>以下は、指定されたスクリーン上をトリガーにして呼び出されるメソッド
その時の位置も保持している。</p>

<h3>draggingSession(_:willBeginAtPoint:)</h3>

<p>スクリーン上でドラッグされ始めたときに呼び出される</p>

<h3>draggingSession(_:endedAtPoint:operation:)</h3>

<p>スクリーン上でドラッグが終了したときに呼び出される</p>

<h3>draggingSession(_:movedToPoint:)</h3>

<p>スクリーン上でドラッグされているときに呼び出される</p>

<h2>NSDraggingDestination</h2>

<p>プロトコルメソッド。実装したViewに対してイベントが呼び出される</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>draggingEntered(_:)
</span><span class='line'>draggingUpdated(_:)
</span><span class='line'>draggingEnded(_:)
</span><span class='line'>draggingExited(_:)</span></code></pre></td></tr></table></div></figure>


<p>以下は、ドロップ処理の実行要求。
上記メソッドでドロップ可能と返した状態でこのテキストフィールド上でマウスボタンを放した時に呼び出されます。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>prepareForDragOperation(_:)
</span><span class='line'>performDragOperation(_:)</span></code></pre></td></tr></table></div></figure>


<p>ここでドラッグしたオブジェクトが対象のオブジェクトに対してどうゆう処理をするのかを実装する</p>

<h2>NSDraggingSession</h2>

<p>ドラッグアンドドロップ関連の処理を提供してくれる。ドラッグ処理中に編集を許可する。</p>

<h3>Example</h3>

<p>以下のようにして対象のオブジェクトを監視する</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var draggingSession:NSDraggingSession = self.beginDraggingSessionWithItems([dragItem], event: theEvent, source: self)
</span><span class='line'>
</span><span class='line'># 失敗したときに画像をもとの位置に戻すかどうか
</span><span class='line'>draggingSession.animatesToStartingPositionsOnCancelOrFail = true
</span><span class='line'>
</span><span class='line'># ドラッグしている状態のビジュアルをどんな表現するかの設定
</span><span class='line'>#    None: 画像をポイントに維持させる
</span><span class='line'>draggingSession.draggingFormation = NSDraggingFormation.None</span></code></pre></td></tr></table></div></figure>


<h2>まとめ</h2>

<p>ここで対象のオブジェクトをドラッグアンドドロップできるようになる。
たとえばFinderにある画像を実装したオブジェクトに画像とかをドロップできたりできる。
ただ、実装したオブジェクトをドラッグしてFinderにドロップして（画像を保存したり）はできないのでもうすこし調査が必要。</p>

<h2>参照</h2>

<ul>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/DragandDrop/DragandDrop.html#//apple_ref/doc/uid/10000069i">Introduction to Drag and Drop</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSDraggingDestination_Protocol/#//apple_ref/occ/intfm/NSDraggingDestination/prepareForDragOperation:">NSDraggingDestination</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSDraggingSource_Protocol/#//apple_ref/occ/intfm/NSDraggingSource/draggingSession:willBeginAtPoint:">NSDraggingSource</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/AppKit/Reference/NSDraggingSession_Class/">NSDraggingSession</a></li>
<li><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/NSPasteboardWriting_Protocol/index.html#//apple_ref/occ/intfm/NSPasteboardWriting/writableTypesForPasteboard:">NSPasteboardWriting</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OS X Advent Calendar 2014 - 初めてMacOS X App作成してみた。]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/12/25/osx-advent-calendar-2014/"/>
    <updated>2014-12-25T00:00:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/12/25/osx-advent-calendar-2014</id>
    <content type="html"><![CDATA[<p>この記事は<a href="http://qiita.com/advent-calendar/2014/osx">OS X Advent Calendar 2014</a>の25日目の記事になります。
ラストーーーーーーーー！！！！</p>

<p>実は前回も<a href="http://nakajijapan.github.io/blog/2014/12/14/osx-advent-calendar-2014/">自分がOSXアプリ初心者の行きを脱するためにしたこと</a>書きましたが、
まだまだ熱が冷めないので二つ目の記事を書くことにしました。</p>

<p>teitenという MacOS Xアプリを作成しました。
WWDC2014の発表から少しづつ地道に開発してきてようやく形になりました。</p>

<h2>teiten</h2>

<p><img src="http://nakajijapan.github.io/images/posts/2014-12-25-01.png" alt="teiten" /></p>

<p>Macのカメラを通して自分自身を定点観測するアプリです。
アイコンはめっちゃ見ている感じを出したくてカメラ＋妖怪でそれっぽさを出してみました。
観測というかもう監視している感じですが。。。
アイコンはえびちゃんというデザイナの方に作成していただきました。</p>

<h3>機能</h3>

<ul>
<li>10 sec or 60 sec ごとに勝手に写真を撮ります。</li>
<li>自由に自分自身で写真を取ることもできます。</li>
<li>適当に溜まったら画像を集めて動画が作成できるようになります。</li>
</ul>


<h3>Compatibility</h3>

<p><del>OS X 10.9以上</del>ですが、もしかしたら10.10しか動かないかも&hellip;</p>

<p>追記：OS X 10.10以上でした。。。</p>

<h3>Dwonload</h3>

<p>期間限定ですが<a href="http://nakajijapan.heteml.jp/teiten.app.zip">ここ</a>あるのでよければどうぞ。</p>

<p>それだけです。それだけのアプリなのにいろいろハマりにハマりまくって結構時間かかりました。。。
めっちゃシンプルなアプリですがなんか大変だった。。</p>

<h3>ScreenShot</h3>

<p><img src="http://nakajijapan.github.io/images/posts/2014-12-25-02.gif" alt="" /></p>

<p><code>capture image</code>でも写真は取れるのですが、カウントダウンされて０になっても写真が撮れます。</p>

<h2>経緯</h2>

<p>実は昔にペパボの先輩の<a href="https://twitter.com/tarop">@tarop</a>と <a href="https://twitter.com/daiskip">@diskip</a>が同じようなWEBサービス作成していました。
個人的には好きで、毎日のように利用していたのですが、もうサービスが無くなってしまったのがちょっと悲しくて、なんかもったいないと思ったので
それに近い形でありながらMacOSXアプリならではの機能をつけて作成した次第です。</p>

<p>もう一つは、今作成している<a href="http://limu.xyz/">Limu</a>というサービスがMac版も対応する予定でいるので、その準備運動の一つでもあります。</p>

<h2>最後に</h2>

<p>プロダクト作るのって自分の興味＋αでいろいろ知らないといけないんですが、何か作る度に自分が一歩成長している間があるのでなかなかやめれない。
あと、そもそも楽しい。
まだまだ、バグも多いし機能も足りないのでちょっとづつ改善していこう思います。</p>

<p>なんとかAdvent Calenderには間に合ったけど、僕のクリスマスはこれで消えてしまった！！！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pepabo Advent Calendar 2014]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/12/16/pepabo-advent-calendar-2014/"/>
    <updated>2014-12-16T22:33:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/12/16/pepabo-advent-calendar-2014</id>
    <content type="html"><![CDATA[<p>この記事は、<a href="http://qiita.com/advent-calendar/2014/pepabo">Pepabo Advent Calendar 2014</a>の17日目の記事です。
明日は lamanotrama さんです。くろださーーーん。</p>

<p>最近ではiPhoneおじさんとして活動させていただいています。<a href="https://twitter.com/nakajijapan">@nakajijapan</a>です。</p>

<p>Pepabo Advent Calendarはやっぱりこれでしょうということで<a href="http://nakajijapan.github.io/blog/2014/06/08/wwdc2014/">WWDC2014</a>に行ったことを出そうかなと思ったのですが、何も書いていないのはあれなのでその後、どうなったかを書いていきます。</p>

<p>最初に&hellip;</p>

<h2>テンションあがる</h2>

<p>ただ参加しただけでも大きな価値があると思うのですが、今年はAppleが開発者向けに大きな発表があったことはみなさんご存知だと思います。それによりさらにさらにテンションアゲアゲMAXでアドレナリン分泌状態であります。</p>

<h2>プレッシャー感高まる</h2>

<p>会社の神対応には大変感謝しておりますが、まぁそれと同等のプレッシャーは感じておりまして今以上に何か恩返しせねばという勢いで、まず社内のSNSのハンドルネーム的なものをApple信者会員番号２番にしました。（社内から僕の他に@misyobunという人も参加してもともとAndroidエンジニアだったのが急に寝返って僕よりも早くApple信者に変えていた裏切り者がいるので。。。）</p>

<h2>神恩返しのために</h2>

<h3>座談会を盛り上げました？</h3>

<p>弊社では業務中に週に一回ずつAndroidとiOSで座談会的な集会が行われています。
いろんなサービスがあるペパボでは、なかなか同じ職種（特にモバイル）の人が一緒に
仕事をする機会がない中で、同じ職種の人が集まって今週どうだったかどか、新しい機種出たね、この実装どうしてるとかを話せる貴重な時間であり、日々ぽよぽよしています。</p>

<h3>CIサーバ構築</h3>

<p>モバイル環境でもCI活動ができるようにJenkins運用したり。</p>

<script async class="speakerdeck-embed" data-slide="9" data-id="55cde09038e501324a864a15dbbe3320" data-ratio="1.33333333333333" src="http://nakajijapan.github.io//speakerdeck.com/assets/embed.js"></script>


<p>(これはFlat Designの歴史について話した時のつかみみたいなものです。。。)</p>

<p>プラグインは<a href="https://wiki.jenkins-ci.org/display/JENKINS/Simple+Theme+Plugin">Simple Theme Plugin</a>を利用しましたCSSを変更しました。
jenkinsをsteve jobsにすることでさらにテンションが上がり、仕事の意欲も高まりました。
自動化してしまうとIRCに結果が流れてくるので、なかなか直接みに行かないものですがなぜか、時々見に行ってしまいます。</p>

<h3>Swiftrisを作成した</h3>

<p><a href="https://www.bloc.io/swiftris-build-your-first-ios-game-with-swift">BLOC &ndash; Learn Swift</a>を題材にSwift勉強しながらテトリス作っちゃおうという教材を利用してみんなで隔週で行いました。</p>

<p>BGMはこの曲にするとテンションがあがることでしょう。</p>

<iframe width="100%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/88243228&amp;color=ff5500&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe>


<h3>iOS8 SDK読書会</h3>

<div class="booklog_html"><table><tr><td class="booklog_html_image"><a href="http://www.amazon.co.jp/Ios-Sdk-Development-Creating-Iphone/dp/1941222641%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1941222641" target="_blank"><img src="http://ecx.images-amazon.com/images/I/51jTyaM8J5L._SL160_.jpg" width="124" height="150" style="border:0;border-radius:0;" /></a></td><td class="booklog_html_info" style="padding-left:20px;"><div class="booklog_html_title" style="margin-bottom:10px;font-size:14px;font-weight:bold;"><a href="http://www.amazon.co.jp/Ios-Sdk-Development-Creating-Iphone/dp/1941222641%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D1941222641" target="_blank">Ios 8 Sdk Development: Creating Iphone and Ipad Apps With Swift</a></div><div style="margin-bottom:10px;"><div class="booklog_html_author" style="margin-bottom:15px;font-size:12px;;line-height:1.2em">著者 : <a href="http://booklog.jp/author/Chris+Adamson" target="_blank">Chris Adamson</a></div><div class="booklog_html_manufacturer" style="margin-bottom:5px;font-size:12px;;line-height:1.2em">Pragmatic Bookshelf</div><div class="booklog_html_release" style="font-size:12px;;line-height:1.2em">発売日 : 2015-01-25</div></div><div class="booklog_html_link_amazon"><a href="http://booklog.jp/item/1/1941222641" style="font-size:12px;" target="_blank">ブクログでレビューを見る»</a></div></td></tr></table></div>


<p>まだBeta版なのですが、出た瞬間後輩の<a href="https://twitter.com/kurotaky">@kurotaky</a>, <a href="https://twitter.com/ryoma_123">@ryoma_123</a>に懇願して仕事が始まる１時間前に集合して朝練活動を行っております。コードを書きながら進んでいるので遅めですが最近やっとGestureRecognizerの章までいきました。執筆に追いつくことを目標に日々取り組んでおります。</p>

<h3>IRCに通知するやつ</h3>

<p>なるべく情報の取得が遅れないようにと話のネタ作りにモバイル関係の記事を流すようにしました。。。主にAndroidとAppleの情報が毎朝流れるようになっています。もっとモバイルに興味もってーーーーーーーという僕の想いの表れです。</p>

<p><a href="https://github.com/nakajijapan/post-feeds-in-irc">https://github.com/nakajijapan/post-feeds-in-irc</a></p>

<h2>まだまだだ！</h2>

<p>と、なにかと活動してきましたが、まだまだもっと自分ができることはたくさんあるはずだし進化できると思う。
なので、来年は今年以上に技術をさらに掘り下げつつサービスや会社に貢献していくんだ！！と決意。
以下の三つを掘り下げます。</p>

<ol>
<li>iPhoneおじさんを掘り下げる</li>
<li>モバイルの開発基盤を掘り下げる</li>
<li>UI/UXを掘り下げる</li>
</ol>


<p>その先に神恩返しがあるのではないかと思います。</p>

<p>以上、自分が決意する記事でした。</p>

<h2>そんな僕たちは</h2>

<p>モバイルエンジニアを大大大大大募集です！！！！</p>

<p><a href="https://js01.jposting.net/paperboy/u/recruit/job.phtml?job_code=109">30days Album　Androidアプリエンジニア（正社員）</a></p>

<p>そして、モバイルエンジニアを大大大大大募集です！！！！</p>

<p><a href="https://js01.jposting.net/paperboy/u/recruit/job.phtml?job_code=109">30days Album　Androidアプリエンジニア（正社員）</a></p>

<p>さらに、モバイルエンジニアを大大大大大募集です！！！！</p>

<p><a href="https://js01.jposting.net/paperboy/u/recruit/job.phtml?job_code=109">30days Album　Androidアプリエンジニア（正社員）</a></p>

<p>もう一度おまけに、モバイルエンジニアを大大大大大募集です！！！！</p>

<p><a href="https://js01.jposting.net/paperboy/u/recruit/job.phtml?job_code=109">30days Album　Androidアプリエンジニア（正社員）</a></p>

<p>一緒にMac App作りましょう！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OS X Advent Calendar 2014 - OSXアプリ初心者の域を脱するためにしたこと]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/12/14/osx-advent-calendar-2014/"/>
    <updated>2014-12-14T23:56:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/12/14/osx-advent-calendar-2014</id>
    <content type="html"><![CDATA[<p>この記事は<a href="http://qiita.com/advent-calendar/2014/osx">OS X Advent Calendar 2014</a>の15日目の記事になります。</p>

<p><img src="https://devimages.apple.com.edgekey.net/osx/images/osx-whats-new-hero.png" alt="" /></p>

<p>AppleがSwiftという言語をサポートしてから半年が経とうとしています。
このほかにも今年はAppleに驚かせる一年になったのではないでしょうか。
みなさんこんにちは<a href="https://twitter.com/nakajijapan">@nakajijapan</a>です。</p>

<p>Swiftが出た当初はコードの書きやすさに驚き、ドキュメントを読んでは
サンプルコードを書いたり、はたまた<a href="http://limu.xyz/">Limu</a>というサービスを作成するようになりました。ちなみにこのサービスはいまだに地道に開発しています。。。</p>

<p>そして、私は新たな興味を持ちました。OSXアプリも頑張れば開発できるのではないかと。</p>

<p>とにかく、なにも考えずOSXプロジェクトを作成して初期起動してみる。
とりあえずなにもできないWindowが起動できる。
あとは、iOS開発でしたノウハウである程度のカスタマイズができるのではないかと。
しかし、そこまでで終わりでUIKitやiOSの開発知識である程度流用できるものはありますが
それ以上にCocoaプログラミングする上での仕様を学ぶ必要がありました。</p>

<p>そこで今回は、ある程度開発できる？(いや、まだまだであります)ようになってきたのでここでちょっとまとめようと思います。</p>

<h2>OSXアプリ開発ができるようになるまでに行ったこと</h2>

<ul>
<li>とにかくサンプルを読む</li>
<li>思ったことは駄目元で試してみる</li>
<li>公式ドキュメントを読む</li>
<li>本を読む</li>
</ul>


<h3>とにかくサンプルを読む</h3>

<p>大体のサンプルはObjective-Cで書いてあります。最初からSwiftで書いていてほしいのですが、まだ昔のサンプルのままで更新されていないので、それをみるようになりますがObjective-CからSwiftに変えるのはそこまで難しくないです。ただより、下のレイヤーにを実装するとなると少し考える事が増えるでしょうが。。。そこにヒントが隠されているので気になるソースを落としてはサンプルを眺めてビルドしてみましょう。</p>

<p>自分は10個くらい眺めてなんとなくこんな書き方すればいいんだと若干ながら理解して
いきました。</p>

<h3>思ったことは駄目元でためしてみる</h3>

<p>iOS以上に情報が少ないので自分で解決しなきゃいけないことが多くなってきます。
実装が滞るのであれば、ソースをミクロな状態にしてそれができるかこうやったらどうなるんだろうと試行錯誤をしてみることが大切です。</p>

<h3>公式ドキュメントを読む</h3>

<p>ネットの情報に自分の疑問の答えがあっても、仕様は確認するといいです。それより便利なプロパティやメソッドが用意されているかもしれませんし、そもそも使い方が間違っているかもしれません。</p>

<h3>本を読む</h3>

<p>日本語の情報がない中、以下の本を参考にしました。</p>

<div class="booklog_html"><table><tr><td class="booklog_html_image"><a href="http://www.amazon.co.jp/MAC-OS-X-COCOA%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E7%AC%AC4%E7%89%88/dp/4501552700%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4501552700" target="_blank"><img src="http://ecx.images-amazon.com/images/I/41bAmGQ-ljL._SL160_.jpg" width="119" height="150" style="border:0;border-radius:0;" /></a></td><td class="booklog_html_info" style="padding-left:20px;"><div class="booklog_html_title" style="margin-bottom:10px;font-size:14px;font-weight:bold;"><a href="http://www.amazon.co.jp/MAC-OS-X-COCOA%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E7%AC%AC4%E7%89%88/dp/4501552700%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4501552700" target="_blank">MAC OS X COCOAプログラミング 第4版</a></div><div style="margin-bottom:10px;"><div class="booklog_html_author" style="margin-bottom:15px;font-size:12px;;line-height:1.2em">著者 : <a href="http://booklog.jp/author/%E3%82%A2%E3%83%BC%E3%83%AD%E3%83%B3%E3%83%BB%E3%83%92%E3%83%AC%E3%82%AC%E3%82%B9" target="_blank">アーロン・ヒレガス</a></div><div class="booklog_html_manufacturer" style="margin-bottom:5px;font-size:12px;;line-height:1.2em">東京電機大学出版局</div><div class="booklog_html_release" style="font-size:12px;;line-height:1.2em">発売日 : 2014-05-20</div></div><div class="booklog_html_link_amazon"><a href="http://booklog.jp/item/1/4501552700" style="font-size:12px;" target="_blank">ブクログでレビューを見る»</a></div></td></tr></table></div>


<p>情報はかなり古いのですが、Cocoaプログラミングの基本がわかるというところまではいいのですが、ある程度iOSで学んだことが記述されているので分厚いわりにはそこまで自分にとって優良な情報は少なかったイメージがあります。</p>

<div class="booklog_html"><table><tr><td class="booklog_html_image"><a href="http://www.amazon.co.jp/Mac-OS-iPhone%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AECocoa%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E5%85%A5%E9%96%80-%E8%97%A4%E6%9C%AC-%E8%A3%95%E4%B9%8B/dp/4881666967%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4881666967" target="_blank"><img src="http://ecx.images-amazon.com/images/I/519bb6t6VoL._SL160_.jpg" width="117" height="150" style="border:0;border-radius:0;" /></a></td><td class="booklog_html_info" style="padding-left:20px;"><div class="booklog_html_title" style="margin-bottom:10px;font-size:14px;font-weight:bold;"><a href="http://www.amazon.co.jp/Mac-OS-iPhone%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AECocoa%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E5%85%A5%E9%96%80-%E8%97%A4%E6%9C%AC-%E8%A3%95%E4%B9%8B/dp/4881666967%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4881666967" target="_blank">Mac OS X/iPhoneのためのCocoaプログラミング入門</a></div><div style="margin-bottom:10px;"><div class="booklog_html_author" style="margin-bottom:15px;font-size:12px;;line-height:1.2em">著者 : <a href="http://booklog.jp/author/%E8%97%A4%E6%9C%AC%E8%A3%95%E4%B9%8B" target="_blank">藤本裕之</a></div><div class="booklog_html_manufacturer" style="margin-bottom:5px;font-size:12px;;line-height:1.2em">ソーテック社</div><div class="booklog_html_release" style="font-size:12px;;line-height:1.2em">発売日 : 2009-07-04</div></div><div class="booklog_html_link_amazon"><a href="http://booklog.jp/item/1/4881666967" style="font-size:12px;" target="_blank">ブクログでレビューを見る»</a></div></td></tr></table></div>


<p>他にもう一冊読もうかなと思って購入した一冊なのですが関西弁？と微妙な例えに苦しんで読みにくかった。。。</p>

<h4>余談</h4>

<div class="booklog_html"><table><tr><td class="booklog_html_image"><a href="http://www.amazon.co.jp/Cocoa-Programming-OS-Edition-Guides/dp/0134076958%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0134076958" target="_blank"><img src="http://ecx.images-amazon.com/images/I/51CF44RQryL._SL160_.jpg" width="105" height="150" style="border:0;border-radius:0;" /></a></td><td class="booklog_html_info" style="padding-left:20px;"><div class="booklog_html_title" style="margin-bottom:10px;font-size:14px;font-weight:bold;"><a href="http://www.amazon.co.jp/Cocoa-Programming-OS-Edition-Guides/dp/0134076958%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0134076958" target="_blank">Cocoa Programming for OS X: The Big Nerd Ranch Guide (5th Edition) (Big Nerd Ranch Guides)</a></div><div style="margin-bottom:10px;"><div class="booklog_html_author" style="margin-bottom:15px;font-size:12px;;line-height:1.2em">著者 : <a href="http://booklog.jp/author/Aaron+Hillegass" target="_blank">Aaron Hillegass</a></div><div class="booklog_html_manufacturer" style="margin-bottom:5px;font-size:12px;;line-height:1.2em">Big Nerd Ranch Guides</div><div class="booklog_html_release" style="font-size:12px;;line-height:1.2em">発売日 : 2015-04-10</div></div><div class="booklog_html_link_amazon"><a href="http://booklog.jp/item/1/0134076958" style="font-size:12px;" target="_blank">ブクログでレビューを見る»</a></div></td></tr></table></div>


<p>来年発売される第五版の本はSwift、Xcode6に対応しているので勉強しがいがあります。</p>

<p><font color="red">熱い!!!!!!!</font></p>

<h2>まとめ</h2>

<p>自分がどうやってCocoaプログラミングの勉強してきたかをまとめてみました。
なにあともあれ自分は何が作成したいかだと思うので、それありきの勉強じゃないと長続きはしないと思うのでそれを見つけるのが何より重要かもしれませんし、
僕も作りたいものがあって勉強してます。あと、まだ始めたばかりでものすごく勉強不足なのですが来年も継続して勉強していきたいです。</p>

<p>そんなこんなで、来年の目標としては自分でもCocoa勉強会（のようなもの）を開催できるようになるまでいけたらいいすね。</p>

<h2>余談</h2>

<p>次がないのですが @shu223 さんの記事が楽しみだ。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[お産合宿2014に参加してきた。]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/09/17/osan2014/"/>
    <updated>2014-09-17T00:06:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/09/17/osan2014</id>
    <content type="html"><![CDATA[<p>夏も終わろうかとしている今日このごろ皆さんいかがお過ごしでしょうか。
僕はパンパンです。中島です。</p>

<p>先日、弊社で<a href="http://osan.pepabo.com/2014/">お産合宿2014</a>という開発合宿的なイベントが開催されたので参加してきました。</p>

<p>今回は、別なチームで組んだことと、参加締め切りまでそんなに時間がなかったので適当に<code>nakajijapan</code>というチームで応募(自分のtwitter idです&hellip;)しました。
結果的にも自分の価値観を押し出す感じにはなりましたが、それでもみんな意見をいろいろだしてくれていい感じに開発できたと思います。</p>

<p><img src="http://osan.pepabo.com/2014/wp-content/uploads/2014/08/tokyo_05_nakajijapan1000x800.png" width="400" /></p>

<p>ほいで今年はこんなアプリを作成しました。</p>

<h2>音楽位置情報アプリ 「Limu」</h2>

<h3><a href="limu.xyz">limu.xyz</a></h3>

<p><a href="http://limu.xyz">
<img src="http://nakajijapan.github.io/images/posts/2014-09-17-01.png" alt="" />
</a></p>

<p>コンセプトは新しい音楽の出会い方です！</p>

<p>詳細は後々公開していきます。
完成度としては、まだ５割ほどでいろいろ試行錯誤が必要なところが結構あるのですが１０月くらいにはリリースできるようにメンバー全員
頑張っておりますのでぜひご期待ください！！！！！！！！！！！</p>

<p>以下にお産合宿発表した資料を載せておきます。（一部修正しました）</p>

<script async class="speakerdeck-embed" data-id="dd60f3a020540132fa3f463cb3105589" data-ratio="1.33333333333333" src="http://nakajijapan.github.io//speakerdeck.com/assets/embed.js"></script>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Introducing CloudKit]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/08/23/introducing-cloudkit/"/>
    <updated>2014-08-23T21:06:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/08/23/introducing-cloudkit</id>
    <content type="html"><![CDATA[<p><img src="https://developer.apple.com/icloud/images/cloudkit.png" alt="" /></p>

<p><a href="https://developer.apple.com/icloud/documentation/cloudkit-storage/">CloudKit Strage</a></p>

<p>WWDC2014でiOS8からの新しい機能であるCloudKitについて調べたよという話です。</p>

<p>次に自分がリリースするプロダクトのバックエンドを実験がてらParseでやろうとしていたのですが、
CloudKitのほうが便利そうだったのと、何かときめきを感じるものがあったのでCloudKitを選定して実装する方向
にはなったのです。しかし、情報はというとサンプルプログラムとただドキュメントがあるんだけでした
ので自分なりに調べてどういう実装をしたらいいのかというのを調査して、一部まとめたお話です。</p>

<p>せっかくなので<a href="https://github.com/potatotips/potatotips/wiki/potatotips-8">potatotips #8</a>でも共有させていただきました。</p>

<script async class="speakerdeck-embed" data-id="8680d4d00aa80132acd15e86903014cd" data-ratio="1.33333333333333" src="http://nakajijapan.github.io//speakerdeck.com/assets/embed.js"></script>


<p>簡単に話すと以下のような内容になっています。</p>

<ul>
<li>簡単にCloudKitの説明</li>
<li>CRUDで実装した場合、どんな実装になるのか</li>
<li>ページング処理の話</li>
<li>要調査内容</li>
<li>感想</li>
</ul>


<p>補足なのですが<code>CKSubscription</code>も試してみたのでご参考までに。</p>

<h2>CKSubscription</h2>

<p>サーバ上での変更を追跡するのに利用されます。
例えば、何かのレコードに変更があった場合にPush通知を送信できたりします。
実際のコードは以下のようなもの。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>// #1
</span><span class='line'>        let truePredicate = NSPredicate(value: true)
</span><span class='line'>        let itemSubscription = CKSubscription(
</span><span class='line'>            recordType: "Items",
</span><span class='line'>            predicate: truePredicate,
</span><span class='line'>            options: CKSubscriptionOptions.FiresOnRecordCreation
</span><span class='line'>        )
</span><span class='line'>// #2
</span><span class='line'>        let notification = CKNotificationInfo()
</span><span class='line'>        notification.alertBody = "Item Add"
</span><span class='line'>        itemSubscription.notificationInfo = notification
</span><span class='line'>
</span><span class='line'>// #3
</span><span class='line'>        self.publicDatabase.saveSubscription(
</span><span class='line'>            itemSubscription,
</span><span class='line'>            completionHandler: { (subscription:CKSubscription!, error:NSError!) -&gt; Void in
</span><span class='line'>
</span><span class='line'>                if error != nil {
</span><span class='line'>                    println("An error occured in \(error.description)")
</span><span class='line'>                }
</span><span class='line'>
</span><span class='line'>                // do something
</span><span class='line'>
</span><span class='line'>            }
</span><span class='line'>        )</span></code></pre></td></tr></table></div></figure>


<h3>＃1</h3>

<p>CKSubscriptionを指定されたレコードタイプに条件(NSPredicate)を指定してインスタンス化します。
CKQueryぽいですね。</p>

<h3>＃2</h3>

<p>ここでは通知メッセージの設定を行っています。</p>

<h3>＃3</h3>

<p>ここでSubscriptionの変更をサーバにリクエストします。
これで完了です。削除したい場合は<code>deleteSubscriptionWithID</code>を利用すれば削除が適用されます。</p>

<p>こんな感じで実装は完了です。</p>

<h2>CloudKitを使ってみての感想</h2>

<p>爆速でバックエンドが構築されるのでアプリに集中したい人にとってはかなりおすすめですね。
だいたいの機能は揃っているので簡単なアプリを作成するんであればこれでいいかもしれません。
引き続きwatchしていきます。</p>

<p>ちなみに、スレイドにも書いたんですが、Macで使うとMacデベロッパープログラムを契約しないと
利用できなかったので発表が終わった瞬間に購入しました。。。。</p>

<blockquote class="twitter-tweet" lang="ja"><p>Mac Developer Program 購入しました。 <a href="https://twitter.com/hashtag/potatotips?src=hash">#potatotips</a> <a href="http://t.co/lbYe8FYzJc">pic.twitter.com/lbYe8FYzJc</a></p>&mdash; nakajijapan (@nakajijapan) <a href="https://twitter.com/nakajijapan/statuses/502072810622054400">2014, 8月 20</a></blockquote>


<script async src="http://nakajijapan.github.io//platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>そんな夏休みの自由研究話でした。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[2014年夏に読んだ本]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/08/19/read-books-in-2014-summer/"/>
    <updated>2014-08-19T03:49:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/08/19/read-books-in-2014-summer</id>
    <content type="html"><![CDATA[<p>この夏に読んだ本をメモライズ。</p>

<h2>Mac App</h2>

<p>この２冊でMac周りの勉強をざっくりしました。</p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/MAC-OS-X-COCOA%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E7%AC%AC4%E7%89%88/dp/4501552700%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4501552700" target="_blank" title="MAC OS X COCOAプログラミング 第4版"><img src="http://ecx.images-amazon.com/images/I/41bAmGQ-ljL._SL160_.jpg" width="119" height="150" alt="MAC OS X COCOAプログラミング 第4版" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/MAC-OS-X-COCOA%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E7%AC%AC4%E7%89%88/dp/4501552700%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4501552700" target="_blank">MAC OS X COCOAプログラミング 第4版</a></p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/Mac-OS-iPhone%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AECocoa%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E5%85%A5%E9%96%80-%E8%97%A4%E6%9C%AC-%E8%A3%95%E4%B9%8B/dp/4881666967%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4881666967" target="_blank" title="Mac OS X/iPhoneのためのCocoaプログラミング入門"><img src="http://ecx.images-amazon.com/images/I/519bb6t6VoL._SL160_.jpg" width="117" height="150" alt="Mac OS X/iPhoneのためのCocoaプログラミング入門" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/Mac-OS-iPhone%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AECocoa%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E5%85%A5%E9%96%80-%E8%97%A4%E6%9C%AC-%E8%A3%95%E4%B9%8B/dp/4881666967%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4881666967" target="_blank">Mac OS X/iPhoneのためのCocoaプログラミング入門</a></p>

<h2>Core Data</h2>

<p>CloudKitと合わせて使いたかったので読みました。</p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/iOS-Core-Data%E5%BE%B9%E5%BA%95%E5%85%A5%E9%96%80-%E5%9C%8B%E5%B1%85-%E8%B2%B4%E6%B5%A9/dp/4798039799%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4798039799" target="_blank" title="iOS Core Data徹底入門"><img src="http://ecx.images-amazon.com/images/I/41l4NOjbb8L._SL160_.jpg" width="106" height="150" alt="iOS Core Data徹底入門" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/iOS-Core-Data%E5%BE%B9%E5%BA%95%E5%85%A5%E9%96%80-%E5%9C%8B%E5%B1%85-%E8%B2%B4%E6%B5%A9/dp/4798039799%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4798039799" target="_blank">iOS Core Data徹底入門</a></p>

<h2>Objective-C</h2>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/Effective-Objective-C-2-0-Matt-Galloway/dp/4798134198%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4798134198" target="_blank" title="Effective Objective-C 2.0"><img src="http://ecx.images-amazon.com/images/I/51BbaG2KA1L._SL160_.jpg" width="120" height="150" alt="Effective Objective-C 2.0" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/Effective-Objective-C-2-0-Matt-Galloway/dp/4798134198%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4798134198" target="_blank">Effective Objective-C 2.0</a></p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/iOS%E4%BD%8D%E7%BD%AE%E6%83%85%E5%A0%B1%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E2%80%95iBeacon-GeoFence-Navi-CoreMotion-M7%E3%81%AE%E7%90%86%E8%A7%A3%E3%81%A8%E5%AE%9F%E8%B7%B5/dp/4798040703%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4798040703" target="_blank" title="iOS位置情報プログラミング―iBeacon/GeoFence/Navi/CoreMotion/M7の理解と実践"><img src="http://ecx.images-amazon.com/images/I/41IrAamsuEL._SL160_.jpg" width="113" height="150" alt="iOS位置情報プログラミング―iBeacon/GeoFence/Navi/CoreMotion/M7の理解と実践" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/iOS%E4%BD%8D%E7%BD%AE%E6%83%85%E5%A0%B1%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E2%80%95iBeacon-GeoFence-Navi-CoreMotion-M7%E3%81%AE%E7%90%86%E8%A7%A3%E3%81%A8%E5%AE%9F%E8%B7%B5/dp/4798040703%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4798040703" target="_blank">iOS位置情報プログラミング―iBeacon/GeoFence/Navi/CoreMotion/M7の理解と実践</a></p>

<h2>About Apple</h2>

<p>スティーブ・ジョブズ亡き後ののアップルがどうなるんだろうか本</p>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/%E6%B2%88%E3%81%BF%E3%82%86%E3%81%8F%E5%B8%9D%E5%9B%BD-%E3%82%B9%E3%83%86%E3%82%A3%E3%83%BC%E3%83%96%E3%83%BB%E3%82%B8%E3%83%A7%E3%83%96%E3%82%BA%E4%BA%A1%E3%81%8D%E3%81%82%E3%81%A8%E3%80%81%E3%82%A2%E3%83%83%E3%83%97%E3%83%AB%E3%81%AF%E5%81%89%E5%A4%A7%E3%81%AA%E4%BC%81%E6%A5%AD%E3%81%A7%E3%81%84%E3%82%89%E3%82%8C%E3%82%8B%E3%81%AE%E3%81%8B-%E3%82%B1%E3%82%A4%E3%83%B3%E5%B2%A9%E8%B0%B7%E3%82%86%E3%81%8B%E3%82%8A-ebook/dp/B00KMVHZE6%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00KMVHZE6" target="_blank" title="沈みゆく帝国 スティーブ・ジョブズ亡きあと、アップルは偉大な企業でいられるのか"><img src="http://ecx.images-amazon.com/images/I/51CePaw6ywL._SL160_.jpg" width="102" height="150" alt="沈みゆく帝国 スティーブ・ジョブズ亡きあと、アップルは偉大な企業でいられるのか" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/%E6%B2%88%E3%81%BF%E3%82%86%E3%81%8F%E5%B8%9D%E5%9B%BD-%E3%82%B9%E3%83%86%E3%82%A3%E3%83%BC%E3%83%96%E3%83%BB%E3%82%B8%E3%83%A7%E3%83%96%E3%82%BA%E4%BA%A1%E3%81%8D%E3%81%82%E3%81%A8%E3%80%81%E3%82%A2%E3%83%83%E3%83%97%E3%83%AB%E3%81%AF%E5%81%89%E5%A4%A7%E3%81%AA%E4%BC%81%E6%A5%AD%E3%81%A7%E3%81%84%E3%82%89%E3%82%8C%E3%82%8B%E3%81%AE%E3%81%8B-%E3%82%B1%E3%82%A4%E3%83%B3%E5%B2%A9%E8%B0%B7%E3%82%86%E3%81%8B%E3%82%8A-ebook/dp/B00KMVHZE6%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3DB00KMVHZE6" target="_blank">沈みゆく帝国 スティーブ・ジョブズ亡きあと、アップルは偉大な企業でいられるのか</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[About Core Foudation in Working with Cocoa Data Types]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/07/26/core-foudation-for-swift/"/>
    <updated>2014-07-26T16:44:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/07/26/core-foudation-for-swift</id>
    <content type="html"><![CDATA[<p>AV Foundation関連のプログラムをSwiftで書き直しているときに、単純に変換できないところがあったので
一旦でキュメントに振り返って読み直してみました。</p>

<p>参照先はAppleの<a href="https://developer.apple.com/library/prerelease/mac/documentation/Swift/Conceptual/BuildingCocoaApps/WorkingWithCocoaDataTypes.html">公式ドキュメント</a>に記載してあるのを自分なりに翻訳してみました。</p>

<h1>Core Foundation</h1>

<p><code>Core Foundation</code>型は自動的に<code>full-fledged</code>なSwiftクラスとしてインポートされる。
メモリ管理が提供されるときはいつでも、Swiftは自動的に<code>Core Foundation objects</code>のメモリを管理し、
自身をインスタンス化した<code>Core Foundation objects</code>をインクルードして管理します。Swift内で、
あなたは<code>toll-free bridged</code>な<code>Foundation</code>と<code>Core Foundation</code>の両方を相互に変換できる。
あなたはブリッジしている<code>Foundation</code>型をキャストするならSwiftの標準ライブラリに対して<code>toll-free bridged</code>な
<code>Core Foundation</code>型をブリッジすることができる</p>

<ul>
<li>toll-free bridged

<ul>
<li>オブジェクトを変換することなくキャストすることで相互変換可能な仕組みのことを指すらしいです</li>
</ul>
</li>
</ul>


<h2>Remapped Types</h2>

<p>Swiftは<code>Core Foundation</code>型をインポートするとき、コンパイラはそれらの型名を再配置する
コンパイラは各型の最後に記述されている<code>Ref</code>を削除する、なぜならSwiftクラスのすべては参照型、
それゆえにサフィックスはいらない</p>

<p><code>CFTypeRef</code>は<code>AnyObject</code>に再配置されるよ。<code>CFTypeRef</code>をつかうときは<code>AnyObject</code>を利用すべきだ！</p>

<h2>Memory Managed Objects</h2>

<p>APIから返却された<code>Core Foundation objects</code>はSwiftで自動的にメモリ管理される。
あなたは自分自身でCFRetain、CFRelease、CFAutoreleaseを呼び出す必要はない。独自のCの関数から<code>Core Foundation objects</code>
を返すのなら、それらを<code>CF_RETURNS_RETAINED</code>と<code>CF_RETURNS_NOT_RETAINED</code>のいずれかを使ってアノテートする。
上記のAPIを呼び出すSwiftコードをコンパイルするとき、コンパイラは自動的ににメモリ管理用の呼び出しを行う。
<code>Core Foundation objects</code>を返さないAPIを利用するときは、このセクションをスキップしてね。
でないのなら<code>unmanaged Core Foundation objects</code>の操作について学んでね。</p>

<h2>Unmanaged Objects</h2>

<p>Swiftが提供されているAPIをimportするときに、コンパイラは自動的に返却された<code>Core Foundation Objects</code>をメモリ管理できないよ
Swiftは<code>Unmanaged&lt;T&gt;</code>構造体内でこれらの返却された<code>Core Foundation objects</code>を内包する
間接的に返却された<code>Core Foundation objects</code>のすべては管理されい。例えば以下のように宣言できる</p>

<h3>Objective-C</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>CFStringRef StringByAddingTwoStrings(CFStringRef string1, CFStringRef string2)</span></code></pre></td></tr></table></div></figure>


<h3>Swift</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func StringByAddingTwoStrings(CFString!, CFString!) -&gt; Unmanaged&lt;CFString&gt;!</span></code></pre></td></tr></table></div></figure>


<p>非管理のオブジェクトを受け取るとき、あなたは直接メモり管理されたオブジェクトに変換すべきです、非管理のオブジェクトを受け取る前に。
この方法でSwiftは手動でメモリ管理を行うことができる。
Unmanaged<T>構造体は非管理オブジェクトをメモリ管理されたobjectに<code>takeUnretainedValue()</code>に変換したり、<code>takeRetainedValue()</code>に変換したりと２つの方法を提供する。
あなたは自分が呼びだだしているAPIがunretained objectやretained objectを返すかどうかを基本に利用するためにどちらかのメソッドを選べる。</p>

<h3>Swift</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let memoryManagedResult = StringByAddingTwoStrings(str1, str2).takeUnretainedValue()
</span><span class='line'>// memoryManagedResult is a memory managed CFString</span></code></pre></td></tr></table></div></figure>


<p>非管理のオブジェクトであるretain() release() autorelease() メソッドを呼び出すことができます、しかしこのアプローチは推奨されないよ</p>

<h2>まとめ</h2>

<p>どうもSwiftでもARC非対応のものがあるので<code>Unmanaged&lt;T&gt;</code>構造体を利用して<code>takeUnretainedValue()</code>、<code>takeRetainedValue()</code>経由でメモリ管理されたオブジェクトにしなければならないようだ。
とはいえまだ完全理解というわけではないので引き続き調べていこうと思う。</p>

<h2>参考文献</h2>

<div style="margin-bottom:5px;"><a href="http://www.amazon.co.jp/%E8%A9%B3%E8%A7%A3-Objective-C-2-0-%E7%AC%AC3%E7%89%88-%E8%8D%BB%E5%8E%9F/dp/4797368276%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4797368276" target="_blank" title="詳解 Objective-C 2.0 第3版"><img src="http://ecx.images-amazon.com/images/I/41VdFg9YqsL._SL160_.jpg" width="115" height="150" alt="詳解 Objective-C 2.0 第3版" style="border:0;border-radius:0" /></a></div>


<p><a href="http://www.amazon.co.jp/%E8%A9%B3%E8%A7%A3-Objective-C-2-0-%E7%AC%AC3%E7%89%88-%E8%8D%BB%E5%8E%9F/dp/4797368276%3FSubscriptionId%3D0AVSM5SVKRWTFMG7ZR82%26tag%3Ddaichibnejp-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4797368276" target="_blank">詳解 Objective-C 2.0 第3版</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift勉強会を開催して話してきました。]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/07/19/swift-shibuya-01/"/>
    <updated>2014-07-19T20:08:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/07/19/swift-shibuya-01</id>
    <content type="html"><![CDATA[<script async class="speakerdeck-embed" data-id="a9200910f163013106da6eb14261a8ef" data-ratio="1.33333333333333" src="http://nakajijapan.github.io//speakerdeck.com/assets/embed.js"></script>


<p>先日、小さい規模ながらSwfit勉強会を開催しました。</p>

<p><a href="http://atnd.org/events/52641">Swift勉強会 hosted by @nakajijapan from ペパボ</a></p>

<p>そんななか、自分も「Swiftに慣れるまで行ったこと」を発表しました。</p>

<p>ざっくり言うSwiftに慣れるのに以下のことをしてみた献じたことを話しました。</p>

<ol>
<li>公式ドキュメント（を読んだ後に）</li>
<li>サンプルアプリをTableViewControllerベースで作成してみたこと</li>
<li>自分のプラグイン(NKJMovieComposer)をSwiftで書き換えてみたこと</li>
<li>気分高ぶってMac OS Xも作成してみたこと</li>
</ol>


<p>詳しくはスライドをご覧ください。</p>

<p>Swiftが出たときにSan Franciscoで一心不乱にサンプルアプリプログラム書いてブログ上げようかと思ったけど
いろんな人が既にブログに上げていたのでただただGitHubにあげるだけでした。そんなんか
いろいろ勉強していくうちにMacアプリもつくれんじゃねーかwで脳内麻痺して書籍を購入してSwiftで作成
してみました。</p>

<p><img src="http://nakajijapan.github.io/images/posts/2014-07-19-01.png" alt="swift" /></p>

<p>起動しとけば単純に画像を定期的に保存するアプリです。
（そのうちに１日で保存した画像をGifアニメのような動画にしてソーシャルにアップする機能作ろうかと計画中）
ある程度できたらGeHubにアップ仕様と思います。</p>

<p>ちなみにこちらの書籍を購入しました。</p>

<p><a href="http://frustration.me/items/5171">
  <img src="http://ecx.images-amazon.com/images/I/41bAmGQ-ljL.jpg" />
</a></p>

<p>Macアプリ、知識が溜まって来たらまた記事にします。</p>

<p>とにかく、Swift勉強会が無事終えてよかったです。
参加してくれたみなさん、そして発表してくれた、<a href="http://twitter.com/misyobun">@misyobun</a> <a href="http://twitter.com/hypermkt">@hypermkt</a> <a href="http://twitter.com/kurotaky">@kurotaky</a> ありがとうございました！！！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcodeのフォルダ参照]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/07/11/xcode-folder-references/"/>
    <updated>2014-07-11T00:37:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/07/11/xcode-folder-references</id>
    <content type="html"><![CDATA[<p>なにげに今まで知らなかったんですが結構便利だってことに最近気づいたのでメモ。
普段リソースをXcodeに関連づけさせるためにドラッグアンドドロップさせていたのですが、
一旦以下のチェック項目でディレクトリ参照にしてしまえば、これ以降リソースファイルを追加したときに毎度
ドラッグアンドドロップさせなくてよく、自動的に追加されます。</p>

<p><img src="http://nakajijapan.github.io/images/posts/2014-07-11-01.png" alt="nakajijapan" /></p>

<p><img src="http://nakajijapan.github.io/images/posts/2014-07-11-02.png" alt="nakajijapan" /></p>

<p>他と違うのは対象のディレクトリは色が青になっています。</p>

<p>実際に呼び出すときには通常の呼び出し方法と異なります。リソースファイルの前に指定のディレクトリ名を宣言
する必要があります。</p>

<p>今回だと以下の感じになります。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let soundFilePath = NSBundle.mainBundle().pathForResource("music/sound001", ofType: "mp3")</span></code></pre></td></tr></table></div></figure>


<p><code>music</code>がディレクトリにあたりますね。</p>

<p>これ、何気に便利で、デザイナさんにXcode立ち上げなくても指定のディレクトリおいておくだけで、余計なところを実装せずに済むので
仕事が捗るのではないかと気づいた今日このごろでした。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[録画時にブラックシーンができてしまう問題]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/06/15/study-avassetwriter/"/>
    <updated>2014-06-15T18:26:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/06/15/study-avassetwriter</id>
    <content type="html"><![CDATA[<p><a href="http://nakajijapan.github.io/blog/2014/06/08/wwdc2014/">WWDC2014に行って来た</a>の話になるのですが、
プライベートでアプリ作成しているときにAV Foundation絡みでわからないところがあったのでAppleのエンジニアさんに質問してきました。</p>

<h2>現象</h2>

<p>問題は、自分が作成した<a href="https://github.com/nakajijapan/NKJMultiMovieCaptureView">NKJMultiMovieCaptureView</a>でその現象が発生しました。
作成したときの話は<a href="http://nakajijapan.github.io/blog/2014/06/01/app-doujou3/">こちら</a>になります。
Vine動画のようにタッチしたら録画し、タッチが終了したら(指を離したら)録画を終了し、録画した複数の動画を一つにする仕組みを作成したのですが、
実際作成した動画を見てみると最初のほんの一瞬だけなぜかブラックシーンができてしまいます。</p>

<p>現状の処理として以下のようなことをしています。</p>

<h3>1. 録画開始</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='obj-c'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">touchesBegan:</span><span class="p">(</span><span class="n">NSSet</span> <span class="o">*</span><span class="p">)</span><span class="nv">touches</span> <span class="nf">withEvent:</span><span class="p">(</span><span class="n">UIEvent</span> <span class="o">*</span><span class="p">)</span><span class="nv">event</span>
</span></code></pre></td></tr></table></div></figure>


<p>タッチイベントで録画の処理を開始します。このときにファイルに対しての書き込み処理を開始します。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='obj-c'><span class='line'><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">assetWriter</span> <span class="n">startWriting</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">assetWriter</span> <span class="nl">startSessionAtSourceTime:</span><span class="n">self</span><span class="p">.</span><span class="n">recordStartTime</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h3>2. 録画</h3>

<p><code>AVCaptureVideoDataOutputSampleBufferDelegate</code>, <code>AVCaptureAudioDataOutputSampleBufferDelegate</code>をプロトコルとして指定して、
以下のメソッドで録画の処理を行います。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='obj-c'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">captureOutput:</span><span class="p">(</span><span class="n">AVCaptureOutput</span> <span class="o">*</span><span class="p">)</span><span class="nv">captureOutput</span> <span class="nf">didOutputSampleBuffer:</span><span class="p">(</span><span class="n">CMSampleBufferRef</span><span class="p">)</span><span class="nv">sampleBuffer</span> <span class="nf">fromConnection:</span><span class="p">(</span><span class="n">AVCaptureConnection</span> <span class="o">*</span><span class="p">)</span><span class="nv">connection</span>
</span></code></pre></td></tr></table></div></figure>


<p>ざっくりですが、内部でやっていることはCMSampleBufferというフレーム情報が取得でき、それを１秒間に何回も実行されるこのメソッドで<code>AVAssetWriterInput</code>オブジェクトに
追加処理をしています。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='obj-c'><span class='line'><span class="n">CFRetain</span><span class="p">(</span><span class="n">sampleBuffer</span><span class="p">);</span>
</span><span class='line'><span class="n">CFRetain</span><span class="p">(</span><span class="n">formatDescription</span><span class="p">);</span>
</span><span class='line'><span class="n">dispatch_async</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">movieWritingQueue</span><span class="p">,</span> <span class="o">^</span><span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">_assetWriter</span><span class="p">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">AVAssetWriterStatusWriting</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">assetWriterInput</span><span class="p">.</span><span class="n">readyForMoreMediaData</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">[</span><span class="n">assetWriterInput</span> <span class="nl">appendSampleBuffer:</span><span class="n">sampleBuffer</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>                <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;%@&quot;</span><span class="p">,[</span><span class="n">self</span><span class="p">.</span><span class="n">assetWriter</span> <span class="n">error</span><span class="p">]);</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">CFRelease</span><span class="p">(</span><span class="n">sampleBuffer</span><span class="p">);</span>
</span><span class='line'>    <span class="n">CFRelease</span><span class="p">(</span><span class="n">formatDescription</span><span class="p">);</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<h3>3. 録画終了</h3>

<p>タッチが終了したら録画終了の処理を行います。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='obj-c'><span class='line'><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">touchesEnded:</span><span class="p">(</span><span class="n">NSSet</span> <span class="o">*</span><span class="p">)</span><span class="nv">touches</span> <span class="nf">withEvent:</span><span class="p">(</span><span class="n">UIEvent</span> <span class="o">*</span><span class="p">)</span><span class="nv">event</span>
</span></code></pre></td></tr></table></div></figure>


<h2>問題</h2>

<p>どうやらスレッドを利用しての保存方法に問題があったようです。</p>

<h3>修正前</h3>

<p><img src="http://nakajijapan.github.io/images/posts/2014-06-15_01_avassetwriter.jpg" alt="AVAssetWriter" /></p>

<p>録画開始とフレーム情報を保存する処理が別スレッドで行われているせいで微妙にタイミングがずれたフレーム情報を取得してしまっている。
ここっだと、開始した時間よりも一瞬だけ先のフレーム情報を取得してしまうので最初の一瞬はブラックシーンになります。</p>

<h3>修正後</h3>

<p><img src="http://nakajijapan.github.io/images/posts/2014-06-15_02_avassetwriter.jpg" alt="AVAssetWriter" /></p>

<p>なので録画開始も同じスレッドで順次処理させるようにし、時間の誤差を最小限にしました。こうすることで無事ブラックシーンが無くなりました。</p>

<p>実際には以下のように修正しています。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='diff'><span class='line'> // Record
</span><span class='line'> NSLog(@&quot;[Starting to record]&quot;);
</span><span class='line'><span class="gd">-    [self.assetWriter startWriting];</span>
</span><span class='line'><span class="gd">-    [self.assetWriter startSessionAtSourceTime:self.recordStartTime];</span>
</span><span class='line'><span class="gi">+    dispatch_async(self.movieWritingQueue, ^{</span>
</span><span class='line'><span class="gi">+        [self.assetWriter startWriting];</span>
</span><span class='line'><span class="gi">+        [self.assetWriter startSessionAtSourceTime:self.recordStartTime];</span>
</span><span class='line'><span class="gi">+    });</span>
</span><span class='line'><span class="gi">+</span>
</span></code></pre></td></tr></table></div></figure>


<h3>まとめ</h3>

<p>とはいえ、この実装も完璧というわけではなくてタイミングがずれることはあるとおっしゃっていましたが、
今のところ発生していないので安心しています。</p>

<h2>参考</h2>

<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/AVFoundation/Reference/AVAssetWriter_Class/Reference/Reference.html">AVAssetWriter Class Reference</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/Cocoa/Conceptual/Multithreading/Multithreading.pdf">Threading Programming Guide</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008091">Concurrency Programming Guide</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Swift勉強会をした]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/06/10/study-swift-01/"/>
    <updated>2014-06-10T18:25:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/06/10/study-swift-01</id>
    <content type="html"><![CDATA[<p>社内で早速Swift勉強会を開きました。
流れとしては、あのときの動画（クレイグがSwiftを発表したところ）をみんなで１０分程鑑賞してテンションあげてから公式のドキュメントを見ながら、みんなでぺちゃくちゃ話す会をしました。</p>

<h2>はじめに</h2>

<p>以下の動画をみてまずざっくりどんなものか概要をつかむ</p>

<p><a href="https://developer.apple.com/videos/wwdc/2014/?id=101">https://developer.apple.com/videos/wwdc/2014/?id=101</a></p>

<h1>A Swift Tour</h1>

<h2>About Swift</h2>

<ul>
<li>Objective-C without the C</li>
<li>iOSとOS Xで開発するための開発言語</li>
<li>Ccoa and Cocoa Touch</li>
<li>Build with LLVM compiler</li>
<li>Optimizer and Autovectorizer</li>
<li>ARC memory management</li>
<li>Same runtime as Objective-C</li>
</ul>


<h2>Simple Value</h2>

<ul>
<li><code>let</code>,<code>var</code>で宣言</li>
<li><code>let</code>は定数、<code>var</code>は変数</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var foo = 33
</span><span class='line'>let foo = 33</span></code></pre></td></tr></table></div></figure>


<ul>
<li>格納する値が明白であれば自動できに方が決定される</li>
<li>十分でなければ明示的に指定することも可能</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let total = 30
</span><span class='line'>let total = 30.0
</span><span class='line'>let total:Double = 0</span></code></pre></td></tr></table></div></figure>


<ul>
<li>初期化に以下のような宣言ができる</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>let emptyArray = String[]()
</span><span class='line'>let emptyDictionary = Dictionary&lt;String, Float&gt;()
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>単純な初期化は<code>[] and [:]</code>で省略できる</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>let emptyArray = []
</span><span class='line'>let emptyDictionary = [:]</span></code></pre></td></tr></table></div></figure>


<h3>Control Flow</h3>

<ul>
<li>どこかでみたような記述でif,switch,for-in,for,while,do-whileできるよ</li>
<li><code>..</code>で数値の範囲を決定できることができる</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var total = 0;
</span><span class='line'>for i in 0..10 {
</span><span class='line'>    total += 2
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>total</span></code></pre></td></tr></table></div></figure>


<h2>Functions and Closures</h2>

<ul>
<li>考え方は他の言語と同じ。引数があって返り値がある</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func greet(name: String, day: String) -&gt; String {
</span><span class='line'>  return "Hello \(name), today is \(day)"
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>greet("Bob", "Tuesday")</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Touple

<ul>
<li>複数の返り値を返す</li>
</ul>
</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func getGasPrices() -&gt; (Double, Double, Double) {
</span><span class='line'>    return (3.59, 3.69, 3.79)
</span><span class='line'>}
</span><span class='line'>getGasPrices()
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>引数を任意で指定することもできます</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func sumOf(numbers:Int...) -&gt; Int
</span><span class='line'>{
</span><span class='line'>    var sum = 0
</span><span class='line'>    for number in numbers {
</span><span class='line'>        sum += number
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    return sum
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>sumOf()
</span><span class='line'>
</span><span class='line'>sumOf(10, 20, 33)</span></code></pre></td></tr></table></div></figure>


<ul>
<li><code>{}</code>でクロージャを記述</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>numbers.map({
</span><span class='line'>    (number: Int) -&gt; Int in
</span><span class='line'>    let result = 3 * number
</span><span class='line'>    return result
</span><span class='line'>})</span></code></pre></td></tr></table></div></figure>


<p>以下の記述も同じ意味</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>numbers.map({ number in 3 * number })</span></code></pre></td></tr></table></div></figure>


<h2>Objects and Classes</h2>

<ul>
<li><code>class</code>で定義</li>
<li><code>init()</code>はコンストラクタ</li>
</ul>


<p>継承は</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Squre : NamedShape {
</span><span class='line'>
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>overrideはfuncの前に<code>override</code>を宣言する</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>override func init() {
</span><span class='line'>    super.init()
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>インスタンス変数をカスタマイズできる</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var perimeter: Double {
</span><span class='line'>    get {
</span><span class='line'>        return 3.0 * sideLength
</span><span class='line'>    }
</span><span class='line'>    set {
</span><span class='line'>        sideLength = newValue / 3.0
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>メンバ変数に以下の記述,<code>willSet</code>,<code>didSet</code>をすることであらかじめ、前処理後処理ができるようになる</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class {
</span><span class='line'>    var triangle: EquilateralTriangle {
</span><span class='line'>    willSet {
</span><span class='line'>        square.sideLength = newValue.sideLength
</span><span class='line'>    }
</span><span class='line'>    didSet {
</span><span class='line'>        square.sideLength *= 2
</span><span class='line'>    }
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>引数に別名を持たせられる</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class Counter {
</span><span class='line'>    var count: Int = 0
</span><span class='line'>    func incrementBy(amount: Int, numberOfTimes times: Int) {
</span><span class='line'>        count += amount * times
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>var counter = Counter()
</span><span class='line'>counter.incrementBy(2, numberOfTimes: 7)
</span></code></pre></td></tr></table></div></figure>


<h2>Enumerations and Structures</h2>

<ul>
<li>メソッドも作成できる</li>
<li>最初に数値を入れておかなければならない</li>
<li>後はインクリメントされる</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>enum Rank: Int {
</span><span class='line'>    case Ace = 1
</span><span class='line'>    case Two, Three, Four, Five, Six, Seven, Eight, Nine, Ten
</span><span class='line'>    case Jack, Queen, King
</span><span class='line'>    func simpleDescription() -&gt; String {
</span><span class='line'>        switch self {
</span><span class='line'>        case .Ace:
</span><span class='line'>            return "ace"
</span><span class='line'>        case .Jack:
</span><span class='line'>            return "jack"
</span><span class='line'>        case .Queen:
</span><span class='line'>            return "queen"
</span><span class='line'>        case .King:
</span><span class='line'>            return "king"
</span><span class='line'>        default:
</span><span class='line'>            return String(self.toRaw())
</span><span class='line'>        }
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>let ace = Rank.Ace
</span><span class='line'>let aceRawValue = ace.toRaw() # 1
</span><span class='line'>let name = ace.simpleDescription() # "Ace"
</span></code></pre></td></tr></table></div></figure>


<p>enumの方で比較しないとだめ</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>
</span><span class='line'>        if ace == Rank.Ace {
</span><span class='line'>            NSLog("-- ace!!!")
</span><span class='line'>        }
</span><span class='line'>// NG
</span><span class='line'>//        else if ace == 1 {
</span><span class='line'>//            NSLog("-- no ace...")
</span><span class='line'>//        }
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<h5>structure</h5>

<ul>
<li>classとほぼ同じ振る舞いをする</li>
<li>処理するときは必ずコピーされる, クラスは参照によって処理される</li>
</ul>


<h2>Protocols and Extensions</h2>

<ul>
<li>基本的なところはObjective-Cと変わらない</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>protocol ExampleProtocol {
</span><span class='line'>    var simpleDescription: String { get } # readonly
</span><span class='line'>    mutating func adjust()
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>クラスにも構造体にも組み込める</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>class SimpleClass: ExampleProtocol {
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>struct SimpleStructure: ExampleProtocol {
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h2>Generics</h2>

<ul>
<li>型に汎用性を持たせて同じロジックを処理させることができる</li>
<li><code>classes</code>, <code>enumerations</code>, <code>structures</code>で利用できる</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>func repeat&lt;T&gt;(item: T, times: Int) -&gt; T[] {
</span><span class='line'>    var result = T[]()
</span><span class='line'>    for i in 0..times {
</span><span class='line'>        result += item
</span><span class='line'>    }
</span><span class='line'>    return result
</span><span class='line'>}
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>repeat("knock", 4)
</span><span class='line'>repeat(333, 3)
</span></code></pre></td></tr></table></div></figure>


<h2>まとめ</h2>

<p>何よりシンプルでモダンな作りになっているのでアプリを作ることがよりいっそう楽しくなること間違い無しですな。
ただ、いくつか説明できないところがあったので、次の会まで宿題にすることにします。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WWDC2014に参加してきました - 番外編(暮らし)]]></title>
    <link href="http://nakajijapan.github.io/blog/2014/06/09/wwdc2014-life/"/>
    <updated>2014-06-09T07:43:00+09:00</updated>
    <id>http://nakajijapan.github.io/blog/2014/06/09/wwdc2014-life</id>
    <content type="html"><![CDATA[<p><img src="http://nakajijapan.github.io/images/posts/2014-06-09-01.jpg" alt="サンフランシスコ" /></p>

<p><a href="http://nakajijapan.github.io/blog/2014/06/08/wwdc2014/">前回の記事(WWDC2014に参加してきました)</a>の番外編です。</p>

<p>初めてのサンフランシスコだったり、そこに一週間もいたのでブログにそのときの記録を記します。</p>

<h2>前準備</h2>

<ul>
<li>予約

<ul>
<li>ホテルと飛行機は早めに撮った方がいいです。全世界から人が集まるのでホテルは早く予約しないと結構遠くになって毎日いくのが大変、飛行機当然日程が迫るにつれて高くなるのでお早めに。</li>
</ul>
</li>
<li>服

<ul>
<li>会場の近くにはユニクロがあるのでパンツも靴下もパーカーも服はすべて現地調達できるので問題ありません！！！！</li>
</ul>
</li>
<li>携帯

<ul>
<li>バッテリーは必ず持っていきましょう！！いじってると絶対なくなります。</li>
</ul>
</li>
</ul>


<h2>空港＆飛行機</h2>

<ul>
<li>空港には余裕をもって３時間前に到着するといいでしょう。

<ul>
<li>40前に来たらいろいろ手続きがあるので時間がかかってしまうせいか空港の人にかなり急かされました。</li>
</ul>
</li>
<li>成田空港には第一ターミナル、第二ターミナルがあって降りる場所間違うとバスか電車で移動しないといけないので時間のロスになります。</li>
<li>飛行機は９時間ものっているのですごい暇になります。絶対暇つぶしになるものを用意しておくといいです。
自分はだいたいMacでブログ書いていたりプログラミングしていました。
やばそうな気流がぶつかることが何回かあって、多少ジェットコースター気分が味わえてしまいます。酔ってしまう人は注意してください。</li>
</ul>


<h2>電車</h2>

<ul>
<li>Moscone Centerまでは<a href="http://www.bart.gov/stations">地下鉄BART</a>を利用して行きます。電光掲示板が無いので毎回確認したほうがいいです。</li>
<li>お金をチャージして乗る形式っぽいです。</li>
</ul>


<h2>生活</h2>

<ul>
<li>インターネット

<ul>
<li>自分はソフトバンクなので<a href="http://www.softbank.jp/mobile/service/global/overseas/web/packet-flat-late/">海外パケットし放題</a></li>
</ul>
</li>
<li>だいたいのお店は袋が有料なので袋が必要ないのにOK!っていうと何セントかよけいに請求されます。</li>
<li>チャージが含まれているお店とそうでないお店があるので注意

<ul>
<li>相場は15-20%の間?</li>
<li>ベッドメイキングは<code>$1</code>が相場？</li>
</ul>
</li>
<li>物価は日本とそんな変わらないのですがチップのこと考えると高いですね。</li>
<li>タクシーは怖くて使わなかった</li>
<li>お酒を購入するときはは写真のID見せろと言われるので忘れずに</li>
<li>朝食・昼食はでますので食費には困らない

<ul>
<li>野菜でないのかなと思ってたらベジタリアン用の弁当がでていました。</li>
</ul>
</li>
<li>よく外国は窃盗が多いからリュックは前にして、財布は後ろポケットにいれるな！っていう言い伝えのようなものがあったけど全然しなかった

<ul>
<li>会場行き来するくらいなので何も起きなかっただけなのかもしれません&hellip;</li>
</ul>
</li>
</ul>


<h2>帰国</h2>

<ul>
<li>日本円に換金するときにコインは換金できないので使い切る必要があるといわれたのでコインは外国で使い切って帰国しましょう！！</li>
</ul>


<p>そんなところかな、何の問題もなく生活・帰還しました。
　
　</p>

<p>終わり。</p>
]]></content>
  </entry>
  
</feed>
